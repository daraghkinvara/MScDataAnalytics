CREATE TABLE EMPLOYEE (
    E_NO            NUMBER(3) CONSTRAINT PK_EMPLOYEE PRIMARY KEY,
    NAME            CHAR(25) NOT NULL,
    HOME_ADDRESS    VARCHAR(30) NOT NULL,
    TELE_NO         NUMBER(10) NOT NULL
);

CREATE TABLE MANAGER (
    M_NO            NUMBER(3) CONSTRAINT PK_MANAGER PRIMARY KEY,
    E_NO            NUMBER(3) NOT NULL CONSTRAINT REF_MANAGER       REFERENCES EMPLOYEE(E_NO)
);

CREATE TABLE MENTOR (
    MENTOR_NO       NUMBER(3) NOT NULL CONSTRAINT REF_MENTOR_1 REFERENCES MANAGER(M_NO),
    MENTEE_NO       NUMBER(3) NOT NULL CONSTRAINT REF_MENTOR_2 REFERENCES MANAGER(M_NO)
);
    

CREATE TABLE SECRETARY (
    S_NO             NUMBER (3) CONSTRAINT PK_SECRETARY PRIMARY KEY,
    E_NO             NUMBER (3) NOT NULL CONSTRAINT REF_SECRETARY_1 REFERENCES EMPLOYEE(E_NO),
    START_DATE       DATE NOT NULL,
    M_NO             NUMBER (3) NOT NULL CONSTRAINT REF_SECRETARY_2 REFERENCES MANAGER(M_NO)
);

CREATE TABLE SITE (
    SITE_ID          NUMBER(3) CONSTRAINT PK_SITE PRIMARY KEY,
    NAME             CHAR(10) NOT NULL,
    M_NO             NUMBER(3) NOT NULL CONSTRAINT REF_SITE REFERENCES MANAGER(M_NO)
);

CREATE TABLE UNIT (
    UNIT_ID          NUMBER(3) CONSTRAINT PK_UNIT PRIMARY KEY,
    UNIT_NO          NUMBER(3) NOT NULL,
    FLOOR_AREA       VARCHAR(2000) NOT NULL,
    ZONE             CHAR(25) NOT NULL CHECK (ZONE = 'Light Industry' OR ZONE = 'Heavy Industry' OR ZONE = 'Distribution Centre' OR ZONE = 'Hazardous Storage'),
    SITE_ID          NUMBER NOT NULL CONSTRAINT REF_UNIT REFERENCES SITE(SITE_ID)
);

CREATE TABLE JOB (
    J_NO            NUMBER(3) CONSTRAINT PK_JOB PRIMARY KEY,
    DESCRIPTION     VARCHAR(20) NOT NULL,
    LOG_DATE        DATE NOT NULL
);

CREATE TABLE JOBUNIT (
    JU_NO           NUMBER(3) CONSTRAINT PK_JOBUNIT PRIMARY KEY,
    UNIT_ID         NUMBER(3) NOT NULL CONSTRAINT REF_JOBUNIT_1 REFERENCES UNIT(UNIT_ID),
    J_NUMBER        NUMBER(3) NOT NULL CONSTRAINT REF_JOBUNIT_2 REFERENCES JOB(J_NO)
);
    
CREATE TABLE EMERGENCY (
    EMERG_NO       NUMBER(3) CONSTRAINT PK_EMERGENCY PRIMARY KEY,
    DATE_TIME      DATE,
    J_NO           NUMBER(3) NOT NULL CONSTRAINT REF_EMERGENCY REFERENCES JOB(J_NO)
);

CREATE TABLE ROUTINE (
    ROUT_NO       NUMBER(3) CONSTRAINT PK_ROUTINE PRIMARY KEY,
    J_NO          NUMBER(3) NOT NULL CONSTRAINT REF_ROUTINE REFERENCES JOB(J_NO)
);    
